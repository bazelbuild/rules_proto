---
buildifier:
  version: latest
  # skylark-comment fails because links to Bazel's docs for
  # `ProtoInfo` and `proto_common` contain `/skylark/`.
  warnings: "-skylark-comment"

platforms:
  macos:
    build_flags:
      - "--incompatible_enable_exports_provider"
    build_targets:
      - "//..."
    test_targets:
      - "//..."

  rbe_ubuntu1604:
    build_flags:
      - "--incompatible_enable_exports_provider"
    build_targets:
      - "//..."
    test_targets:
      - "//..."

  ubuntu1804:
    build_flags:
      - "--incompatible_enable_exports_provider"
    build_targets:
      - "//..."
    test_targets:
      - "//..."

  windows:
    build_flags:
      - "--incompatible_enable_exports_provider"
    build_targets:
      - "//..."
    test_targets:
      - "//..."
